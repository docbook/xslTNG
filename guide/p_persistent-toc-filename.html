<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" class="no-js"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script><title>$persistent-toc-filename</title><link href="./css/pygments.css" rel="stylesheet"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link href="https://purl.org/dc/elements/1.1/" rel="schema.dc"/><meta name="dc.modified" content="2023-01-05T11:10:41Z"/><meta name="dc.created" content="2023-01-05T11:10:41Z"/><meta name="generator" content="DocBook xslTNG version 2.0.2-SNAPSHOT / 4443c74 / SAXON HE 11.4"/><link href="./css/guide-toc.css" rel="stylesheet"/><link href="./css/docbook.css" rel="stylesheet" media="screen"/><link href="./css/docbook-paged.css" rel="stylesheet" media="print"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link href="css/guide.css" rel="stylesheet"/><link href="css/guide-online.css" rel="stylesheet"/><link href="media/xsltng-icon.png" rel="shortcut icon"/><script src="https://kit.fontawesome.com/c94d537c36.js" type="text/javascript" crossorigin="anonymous"></script><link rel="prev" href="p_persistent-toc-css.html"/><link rel="next" href="p_persistent-toc-js.html"/><link rel="up" href="params.html"/><link rel="home" href="index.html"/></head><body><nav class="top"><span class="nav"><a title="DocBook xslTNG Reference" href="index.html"><i class="fas fa-home"></i></a> <a href="p_persistent-toc-css.html" title="$persistent-toc-css"><i class="fas fa-arrow-left"></i></a> <a title="I .  Parameter reference" href="params.html"><i class="fas fa-arrow-up"></i></a> <a title="$persistent-toc-js" href="p_persistent-toc-js.html"><i class="fas fa-arrow-right"></i></a></span><span class="title"><i class="title">DocBook xslTNG Reference</i></span><span class="logo"><img src="media/xsltng-inverted.png"/></span></nav><main><div id="p_persistent-toc-filename" class="component refentry"><span class="indexterm" id="p_persistent-toc-filename_indexterm1"></span><span class="indexterm" id="p_persistent-toc-filename_indexterm2"></span><div id="param-pera134"></div><div class="refnamediv"><h2><span class="refentrytitle">$persistent-toc-filename</span></h2><p><span class="refname">$persistent-toc-filename</span><span class="refpurpose"><span class="refpurpose-sep"> — </span><span class="refpurpose-text">Name of file that holds the persistent ToC</span><span class="refpurpose-punc">.</span></span></p></div><div class="a-detail mode-detail"><div><div class="prop">Parameter:</div><div>{}persistent-toc-filename</div></div><div><div class="prop">Defined in:</div><div><span>param.xsl</span></div></div><div><div class="prop">Used in:</div><div>param.xsl, modules/chunk-output.xsl</div></div><div><div class="prop">Since:</div><div>2.0.2</div></div></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="pre-wrap"><pre class="synopsis verbatim verblines"><span class="line" db-line="1"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code>$persistent-toc-filename as xs:string? := 'persistent-toc.html'</code></span></span>
</pre></div></div><div id="p_persistent-toc-filename_refsection1" class="refsection"><header><h2>Description</h2></header>
         
         <p>When the
<a href="p_persistent-toc.html"><code class="paramname">$persistent-toc</code></a><span class="indexterm" id="p_persistent-toc-filename_refsection1_para1_indexterm1"></span> parameter <span class="glossterm"><a href="glossary.html#glossary_ge5">is true</a></span>,
a copy of the Table of Contents (ToC) will be stored either in each HTML
file, or in a single file that is loaded dynamically.</p>
         <ol class="orderedlist" type="1"><li><p>If <a href="ch-using.html#chunking" class="link">chunking</a> is enabled and the
<a href="#p_persistent-toc-filename"><code class="paramname">$persistent-toc-filename</code></a><span class="indexterm" id="p_persistent-toc-filename_refsection1_orderedlist1_listitem1_para1_indexterm1"></span> parameter is non-empty,
it’s used as a filename and a single copy of the ToC will be saved in
that file.</p><p>The benefit of this approach is that the HTML chunks are
smaller. If the persistent ToC is written into every chunk, the size
of each HTML chunk increases in proportion to the size of the ToC. For
a large document with lots of small pages, this can be a significant
percentage of the overall size.</p><p>The disadvantage of this approach is that opening the ToC
requires another document to be loaded into the browser. For a large
ToC, this can introduce visible latency, although browser caching
tends to reduce that after the document has been loaded once. More
significantly, this will not work unless the documents are served with
<code>http</code> (and in some environments, perhaps
<code>https</code>). The browser will (quite reasonably) not allow
JavaScript to load documents from the filesystem.</p></li><li><p>If the 
<a href="#p_persistent-toc-filename"><code class="paramname">$persistent-toc-filename</code></a><span class="indexterm" id="p_persistent-toc-filename_refsection1_orderedlist1_listitem2_para1_indexterm1"></span> parameter is the empty
sequence, a copy of the ToC is stored in each chunk.</p><p>The benefit of this approach is that it requires no additional
document to be loaded and will work even if the documents are loaded
with <code>file</code> URIs.</p><p>The disadvantage of this approach is that it increases the size of
each chunk. Whether that matters depends on the size of the ToC, the relative
size of the chunks, bandwidth and other constraints.</p></li><li><p>If chunking <em>is not</em> being used, there will
only be one HTML result and the ToC will always be stored in that chunk.
</p></li></ol>
      </div></div></main><nav class="bottom"><div class="navrow"><div class="navleft"><a title="$persistent-toc-css" href="p_persistent-toc-css.html"><i class="fas fa-arrow-left"></i></a></div><div class="navmiddle"><a title="" href="index.html"><i class="fas fa-home"></i></a></div><div class="navright"><a title="$persistent-toc-js" href="p_persistent-toc-js.html"><i class="fas fa-arrow-right"></i></a></div></div><div class="navrow"><div class="navleft navtitle">$persistent-toc-css</div><div class="navmiddle"><a title="I .  Parameter reference" href="params.html"><i class="fas fa-arrow-up"></i></a></div><div class="navright navtitle">$persistent-toc-js</div></div><div class="infofooter"><span class="copyrightfooter"><a href="dbcpyright.html">Copyright</a> © 2020–2023 Norman Walsh.</span></div><nav class="tocopen"></nav><nav class="toc"></nav><!-- Hide ToC details from user agents that don’t support JS --><script type="text/html" class="tocopen"><i class="far fa-book"></i></script><script type="text/html" class="toc"><header><span>Table of Contents</span><span class="close"><i class="far fa-window-close"></i></span><p class="ptoc-search"><input class="ptoc-search" placeholder="Search" style="width: 80%"/></p></header><div db-persistent-toc="persistent-toc.html" db-prefix="">Loading…</div></script></nav><script src="./js/xlink.js"></script><script src="./js/persistent-toc.js"></script><script src="./js/chunk-nav.js"></script></body></html>